{"remainingRequest":"/home/andrei/dev/vue/crmav100/node_modules/babel-loader/lib/index.js!/home/andrei/dev/vue/crmav100/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/andrei/dev/vue/crmav100/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/andrei/dev/vue/crmav100/src/views/request/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/andrei/dev/vue/crmav100/src/views/request/form.vue","mtime":1558354283117},{"path":"/home/andrei/dev/vue/crmav100/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport FormMixing from '@/widgets/FormMixing';\nimport model from '@/models/offer.js';\nimport api from '@/config/api.js';\nimport axios from 'axios';\nimport RequestForm from './request-from.vue';\nimport RequestList from './list.vue';\nexport default {\n  components: {\n    RequestForm: RequestForm,\n    RequestList: RequestList\n  },\n  mixins: [FormMixing],\n  data: function data() {\n    return {\n      model: model,\n      validators: model.validators,\n      labels: model.labels,\n      states: model.states,\n      request: {\n        show: false,\n        type: {}\n      },\n      fields: new model.Fields().fields,\n      errors: new model.Fields().fields\n    };\n  },\n  methods: {\n    actions: function actions(type) {\n      this.request.type = type;\n      this.request.show = true;\n    },\n    fetchData: function fetchData(id) {\n      var _this = this;\n\n      this.loading = true;\n      axios.get(api.offers, {\n        params: {\n          id: id\n        }\n      }).then(function (response) {\n        _this.loading = false;\n        _this.fields = response.data.data;\n        _this.$root.phone_number = _this.fields.av100.phone;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};",{"version":3,"sources":["form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,OAAA,UAAA,MAAA,sBAAA;AACA,OAAA,KAAA,MAAA,mBAAA;AACA,OAAA,GAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,WAAA,MAAA,oBAAA;AACA,OAAA,WAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AACA,IAAA,WAAA,EAAA;AADA,GADA;AAIA,EAAA,MAAA,EAAA,CAAA,UAAA,CAJA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,KAAA,CAAA,UAFA;AAGA,MAAA,MAAA,EAAA,KAAA,CAAA,MAHA;AAIA,MAAA,MAAA,EAAA,KAAA,CAAA,MAJA;AAKA,MAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA;AAFA,OALA;AASA,MAAA,MAAA,EAAA,IAAA,KAAA,CAAA,MAAA,GAAA,MATA;AAUA,MAAA,MAAA,EAAA,IAAA,KAAA,CAAA,MAAA,GAAA;AAVA,KAAA;AAYA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,iBAAA,IAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,OAAA,CAAA,IAAA,GAAA,IAAA;AACA,KAJA;AAKA,IAAA,SALA,qBAKA,EALA,EAKA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,GAAA,CAAA,MADA,EACA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,YAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AAAA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAAA,OAPA;AAQA;AAfA;AAnBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div v-if=\"loading\" class=\"loading-block\">\n      <div class=\"loader\"></div>\n    </div>\n    <div class=\"clearfix\">\n      <div class=\"float-left\">\n        <template v-if=\"fields.offer.id\">\n          <h1>Карточка {{ fields.offer.id }}</h1>\n        </template>\n      </div>\n      <div class=\"float-right\">\n        <button style=\"margin: 4px 0 0 4px;\" class=\"btn btn-primary\" title=\"Выберите дату когда перезвонить\" @click=\"actions(states[0])\">{{states[0].text}}</button>\n        <button style=\"margin: 4px 0 0 4px;\" class=\"btn btn-primary\" title=\"Карточка уходит в очередь с отсрочкой\" @click=\"actions(states[1])\">{{states[1].text}}</button>\n        <button style=\"margin: 4px 0 0 4px;\" class=\"btn btn-primary\" title=\"Карточка уходит из очереди\" @click=\"actions(states[2])\">{{states[2].text}}</button>\n        <button style=\"margin: 4px 0 0 4px;\" class=\"btn btn-primary\" title=\"Карточка уходит в архив\" @click=\"actions(states[3])\">{{states[3].text}}</button>\n      </div>\n    </div>\n    <hr>\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <h3 style=\"text-align: center;\">Информация о клиенте</h3>\n        <v-text v-model=\"fields.av100.name\" :label=\"labels.av100.name\" :error=\"errors.av100.name\" :disabled=\"true\"></v-text>\n        <v-text v-model=\"fields.av100.phone\" :label=\"labels.av100.phone\" :error=\"errors.av100.phone\" :disabled=\"true\"></v-text>\n        <v-text v-model=\"fields.av100.city\" :label=\"labels.av100.city\" :error=\"errors.av100.city\" :disabled=\"true\"></v-text>\n        <v-textarea v-model=\"fields.av100.descr\" :label=\"labels.av100.descr\" :error=\"errors.av100.descr\" :disabled=\"true\" :rows=\"6\"></v-textarea>\n      </div>\n      <div class=\"col-md-6\">\n        <h3 style=\"text-align: center;\">Информация о машине</h3>\n        <v-text v-model=\"fields.av100.marka\" :label=\"labels.av100.marka\" :error=\"errors.av100.marka\" :disabled=\"true\"></v-text>\n        <v-text v-model=\"fields.av100.model\" :label=\"labels.av100.model\" :error=\"errors.av100.model\" :disabled=\"true\"></v-text>\n        <v-text v-model=\"fields.av100.year\" :label=\"labels.av100.year\" :error=\"errors.av100.year\" :disabled=\"true\"></v-text>\n        <v-text v-model=\"fields.av100.price\" :label=\"labels.av100.price\" :error=\"errors.av100.price\" :disabled=\"true\"></v-text>\n        <v-text v-model=\"fields.av100.delta\" :label=\"labels.av100.delta\" :error=\"errors.av100.delta\" :disabled=\"true\"></v-text>\n        <div class=\"form-group row\">\n          <label class=\"col-form-label col-sm-2 text-right\">Ссылка</label>\n          <div class=\"col-sm-10\">\n            <a :href=\"fields.av100.url\" target=\"_blank\">{{fields.av100.url}}</a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <hr>\n    <div>\n      <request-list :offer_id=\"fields.offer.offer_id\"></request-list> \n    </div>\n    <div>\n      <request-form :offer_id=\"fields.offer.id\" :type=\"request.type\" :show=\"request.show\" @close-menu=\"request.show = false\"></request-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FormMixing from '@/widgets/FormMixing'\nimport model from '@/models/offer.js'\nimport api from '@/config/api.js'\nimport axios from 'axios'\nimport RequestForm from './request-from.vue'\nimport RequestList from './list.vue'\n\nexport default {\n  components: {\n    RequestForm, RequestList\n  },\n  mixins: [FormMixing],\n  data: function() {\n    return {\n      model: model,\n      validators: model.validators,\n      labels: model.labels,\n      states: model.states,\n      request: {\n        show: false,\n        type: {}\n      },\n      fields: new model.Fields().fields,\n      errors: new model.Fields().fields,\n    }\n  },\n  methods: {\n    actions: function(type) {\n      this.request.type = type\n      this.request.show = true\n    },\n    fetchData (id) {\n      this.loading = true\n      axios\n      .get(api.offers, {params: {id: id} })\n      .then(response => {\n        this.loading = false\n        this.fields = response.data.data        \n        this.$root.phone_number = this.fields.av100.phone\n      })\n      .catch(error => { console.log(error) })\n    },\n  }\n}\n</script>\n"],"sourceRoot":"src/views/request"}]}