{"remainingRequest":"/home/andrei/dev/vue/crmav100/node_modules/thread-loader/dist/cjs.js!/home/andrei/dev/vue/crmav100/node_modules/babel-loader/lib/index.js!/home/andrei/dev/vue/crmav100/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/andrei/dev/vue/crmav100/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/andrei/dev/vue/crmav100/src/views/offers/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/andrei/dev/vue/crmav100/src/views/offers/index.vue","mtime":1559035230890},{"path":"/home/andrei/dev/vue/crmav100/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrei/dev/vue/crmav100/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport router from \"@/config/router\";\nimport api from \"@/config/api\";\nexport default {\n  data: function data() {\n    return {\n      loading: false,\n      data: []\n    };\n  },\n  created: function created() {\n    this.fetchData();\n    var self = this;\n    var timerId = setInterval(function () {\n      self.fetchData();\n    }, 10000);\n  },\n  methods: {\n    createRequest: function createRequest(id) {\n      router.push({\n        name: 'request_form',\n        params: {\n          id: id\n        }\n      });\n    },\n    fetchData: function fetchData() {\n      var _this = this;\n\n      // this.loading = true;\n      var params = {};\n      axios.get(api.offers_all, {\n        params: params\n      }).then(function (response) {\n        // this.loading = false;\n        if (response.data.status == \"ok\") {\n          _this.data = response.data.data;\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,iBAAA;AACA,OAAA,GAAA,MAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAPA,qBAOA;AACA,SAAA,SAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,QAAA,OAAA,GAAA,WAAA,CAAA,YAAA;AACA,MAAA,IAAA,CAAA,SAAA;AACA,KAFA,EAEA,KAFA,CAAA;AAGA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,uBAAA,EAAA,EAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,cAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,EAAA,EAAA;AAAA;AAAA,OAAA;AACA,KAHA;AAIA,IAAA,SAAA,EAAA,qBAAA;AAAA;;AACA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,GAAA,CAAA,UADA,EACA;AAAA,QAAA,MAAA,EAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OAVA;AAWA;AAlBA;AAdA,CAAA","sourcesContent":["<template>\n  <div>\n    <div v-if=\"loading\" class=\"loading-block\">\n      <div class=\"loader\"></div>\n    </div>\n    <div v-if=\"data\">\n      <div class=\"tbl fixed\" style=\" min-width: 500px;\">\n        <div class=\"row tbl-row tbl-header\">\n          <div class=\"tbl-col col-3\">Марка</div>\n          <div class=\"tbl-col col-3\">Модель</div>\n          <div class=\"tbl-col col-2\">Год</div>\n          <div class=\"tbl-col col-2\">Цена</div>\n          <div class=\"tbl-col col-1\"></div>\n        </div>\n        <div class=\"tbl-body\">\n          <div v-for=\"(item, key) in data\" :key=\"key\" class=\"row tbl-row\">\n            <div class=\"tbl-col col-3\">{{item.marka}}</div>\n            <div class=\"tbl-col col-3\">{{item.model}}</div>\n            <div class=\"tbl-col col-2\">{{item.year}}</div>\n            <div class=\"tbl-col col-2\">{{item.price}}</div>\n            <div class=\"tbl-col col-1\">\n              <button\n                @click=\"createRequest(item.id)\"\n                title=\"Создать заявку на машину\"\n                class=\"btn btn-primary btn-round\"\n              >\n                <i class=\"fas fa-plus\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n    \n<script>\nimport axios from \"axios\";\nimport router from \"@/config/router\";\nimport api from \"@/config/api\";\n\nexport default {\n  data: function() {\n    return {\n      loading: false,\n      data: []\n    };\n  },\n  created() {\n    this.fetchData();\n    let self = this;\n    var timerId = setInterval(() => {\n      self.fetchData();\n    }, 10000);\n  },\n  methods: {\n    createRequest: function(id) {\n      router.push({ name: 'request_form', params: {id: id}})\n    },\n    fetchData: function() {\n      // this.loading = true;\n      let params = {};\n      axios\n        .get(api.offers_all, { params: params })\n        .then(response => {\n          // this.loading = false;\n          if (response.data.status == \"ok\") {\n            this.data = response.data.data;\n          }\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    }\n  }\n};\n</script>"],"sourceRoot":"src/views/offers"}]}